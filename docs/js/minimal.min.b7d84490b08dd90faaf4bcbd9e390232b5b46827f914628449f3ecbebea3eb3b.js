(function(){"use strict";function e(){var e=document.getElementById("theme-toggle"),s=window.matchMedia("(prefers-color-scheme: dark)").matches,n=localStorage.getItem("theme");function t(t){document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t),e&&e.setAttribute("aria-pressed",t==="dark")}n?t(n):t(s?"dark":"light"),e&&e.addEventListener("click",function(){var e=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";t(e)})}function t(){var e=document.getElementById("nav-toggle"),t=document.getElementById("site-nav"),n=document.documentElement;e&&t&&e.addEventListener("click",function(){var s=t.classList.toggle("is-open");e.classList.toggle("is-active",s),e.setAttribute("aria-expanded",s),n.classList.toggle("is-menu-open",s)})}function n(){var e,n,t=document.querySelector(".site-header.is-sticky");if(!t)return;e=document.createElement("div"),e.setAttribute("aria-hidden","true"),e.style.cssText="position:absolute;top:0;height:1px;width:1px;pointer-events:none;",document.body.insertBefore(e,document.body.firstChild),n=new IntersectionObserver(function(e){e.forEach(function(e){t.classList.toggle("has-shadow",!e.isIntersecting)})}),n.observe(e)}function s(){var e=document.querySelectorAll(".highlight");e.forEach(function(e){var t,n,o,i,a,r,s=e.querySelector("code");if(!s)return;o=s.className.match(/language-(\w+)/),i=o?o[1]:"",i&&(n=document.createElement("span"),n.className="code-lang",n.textContent=i.toUpperCase(),e.appendChild(n)),a='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="5.5" y="5.5" width="8" height="9" rx="1.5"/><path d="M5.5 10.5H3.25A1.25 1.25 0 0 1 2 9.25v-7A1.25 1.25 0 0 1 3.25 1h7A1.25 1.25 0 0 1 11.5 2.25V4.5"/></svg>',r='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3.5 8.5 6.5 11.5 12.5 4.5"/></svg>',t=document.createElement("button"),t.className="copy-code",t.innerHTML=a,t.type="button",t.setAttribute("aria-label","Copy to clipboard"),e.appendChild(t),t.addEventListener("click",function(){navigator.clipboard.writeText(s.textContent).then(function(){t.innerHTML=r,t.classList.add("is-copied"),setTimeout(function(){t.innerHTML=a,t.classList.remove("is-copied")},2e3)})})})}function o(){var n,s,e=document.querySelectorAll(".toc nav a"),t=document.querySelectorAll(".post-content h2, .post-content h3");if(!e.length||!t.length)return;n={root:null,rootMargin:"-100px 0px -70% 0px",threshold:0},s=new IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){var n=t.target.getAttribute("id");if(!n)return;e.forEach(function(e){e.classList.toggle("active",e.getAttribute("href")==="#"+n)})}})},n),t.forEach(function(e){s.observe(e)})}function i(){var e,t=document.getElementById("reading-progress");if(!t)return;e=!1,window.addEventListener("scroll",function(){e||(requestAnimationFrame(function(){var s=window.scrollY||document.documentElement.scrollTop,n=document.body.scrollHeight-window.innerHeight,o=n>0?Math.min(s/n*100,100):0;t.style.width=o+"%",e=!1}),e=!0)})}document.addEventListener("DOMContentLoaded",function(){e(),t(),n(),o(),s(),i()})})()